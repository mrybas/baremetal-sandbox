# =============================================================================
# baremetal-sandbox Configuration
# =============================================================================
# Copy this file to config.env and edit the values

# -----------------------------------------------------------------------------
# Network
# -----------------------------------------------------------------------------
# IP address of Raspberry Pi (management plane)
MANAGEMENT_IP="192.168.1.1"

# Network interface on Raspberry Pi
MANAGEMENT_INTERFACE="eth0"

# DHCP range for nodes
DHCP_RANGE_START="192.168.1.10"
DHCP_RANGE_END="192.168.1.50"
DHCP_GATEWAY="192.168.1.1"
DHCP_NETMASK="255.255.255.0"
DHCP_DNS="8.8.8.8,8.8.4.4"

# -----------------------------------------------------------------------------
# Nodes (Dell Mini PCs)
# -----------------------------------------------------------------------------
# Format: NAME;MAC;IP (semicolon separated because MAC contains colons)
# First node will be control plane, rest are workers
NODES=(
    "node-1;aa:bb:cc:dd:ee:01;192.168.1.11"
    "node-2;aa:bb:cc:dd:ee:02;192.168.1.12"
    "node-3;aa:bb:cc:dd:ee:03;192.168.1.13"
    "node-4;aa:bb:cc:dd:ee:04;192.168.1.14"
)

# Node disk device (for Talos installation)
NODE_DISK="/dev/sda"

# Node network interface
NODE_INTERFACE="eno1"

# Number of control plane nodes (rest will be workers)
CONTROLPLANE_COUNT=1

# Controlplane IP (first node)
CONTROLPLANE_IP="192.168.1.11"

# MAC addresses for Wake-on-LAN (comma-separated, for Makefile)
NODE_MACS="aa:bb:cc:dd:ee:01,aa:bb:cc:dd:ee:02,aa:bb:cc:dd:ee:03,aa:bb:cc:dd:ee:04"

# -----------------------------------------------------------------------------
# Talos Linux
# -----------------------------------------------------------------------------
# Talos version to download (check https://github.com/siderolabs/talos/releases)
TALOS_VERSION="v1.12.1"

# Cluster name
CLUSTER_NAME="homelab"

# Kubernetes API endpoint (usually first controlplane node)
CLUSTER_ENDPOINT="https://192.168.1.11:6443"

# -----------------------------------------------------------------------------
# Tinkerbell
# -----------------------------------------------------------------------------
# Tinkerbell Helm chart version (check https://github.com/tinkerbell/charts)
TINKERBELL_CHART_VERSION="v0.22.0"

# HTTP server port for images
HTTP_PORT="8080"

# -----------------------------------------------------------------------------
# Timeouts
# -----------------------------------------------------------------------------
# Wait time after Wake-on-LAN (seconds)
WOL_WAIT_TIME=120

# Timeout for Tinkerbell workflows (seconds)
WORKFLOW_TIMEOUT=600

# Timeout for Kubernetes bootstrap (seconds)
BOOTSTRAP_TIMEOUT=300
